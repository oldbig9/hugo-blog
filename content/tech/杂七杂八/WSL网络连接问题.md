---
title: "WSL网络连接问题"
date: 2023-08-31 10:35:17
draft: false
tags:
- Windows
- Ubuntu
- WSL
categories:
- tech
---

## 问题

环境：wsl1

子系统：ubuntu20.04

---

windows自动重启后，wsl ubuntu20.04子系统无法连接网络，ping baidu.com 不通

而另一个子系统 ubuntu22.04是可以连接网络的，由此可以判断不是宿主机的问题

检查对比了 /etc/resolv.conf文件
发现ubuntu20.04的文件内容是空的，正常情况下文件内容如下

```plaintext
# This file was automatically generated by WSL. To stop automatic generation of this file, remove this line.
nameserver 10.xx.xx.xx
.......
```

该文件是wsl系统自动生成的，用于DNS解析，不知道为什么windows重启后，子系统配置文件错误了

---

**解决方式**

- 直接拷贝ubuntu22.04的配置文件至ubuntu20.04，至于重启会不会失效待观察
- 如果重启失效，则[参考文章](https://blog.csdn.net/weixin_44129133/article/details/124797374)处理